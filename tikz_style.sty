\usetikzlibrary{arrows.meta}

%reconstruct the libertine arrow tip for tikz(cd)
%See TikZ manual, section "Defining New Arrow Tips"
\pgfdeclarearrow{%
	name = libertinustip,
	parameters = { \the\pgfarrowlength },
	setup code = {%
		% The different end values
		\pgfarrowssettipend{0.382\pgfarrowlength}
		\pgfarrowssetlineend{0\pgfarrowlength}
		\pgfarrowssetvisualbackend{-0.134\pgfarrowlength}
		\pgfarrowssetbackend{-0.618\pgfarrowlength}
		% The convex hull
		\pgfarrowshullpoint{0.382\pgfarrowlength}{0.037\pgfarrowlength}
		\pgfarrowshullpoint{-0.493\pgfarrowlength}{0.726\pgfarrowlength}
		\pgfarrowshullpoint{-0.618\pgfarrowlength}{0.726\pgfarrowlength}
		\pgfarrowshullpoint{-0.618\pgfarrowlength}{-0.726\pgfarrowlength}
		\pgfarrowshullpoint{-0.493\pgfarrowlength}{-0.726\pgfarrowlength}
		\pgfarrowshullpoint{0.382\pgfarrowlength}{0.037\pgfarrowlength}
		% Saves: Only the length:
		\pgfarrowssavethe\pgfarrowlength
	},
	% the following coordinates are choosen so that the
	% arrow head has a length parallel to the x-axis
	% of precisely 1pt
	drawing code = {%
		\pgfpathmoveto%
			{\pgfpoint{0.370\pgfarrowlength}{0.046\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{0.18\pgfarrowlength}{0.11\pgfarrowlength}}%
			{\pgfpoint{-0.13\pgfarrowlength}{0.33\pgfarrowlength}}%
			{\pgfpoint{-0.470\pgfarrowlength}{0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.49\pgfarrowlength}{0.73\pgfarrowlength}}%
			{\pgfpoint{-0.59\pgfarrowlength}{0.73\pgfarrowlength}}%
			{\pgfpoint{-0.618\pgfarrowlength}{0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.50\pgfarrowlength}{0.43\pgfarrowlength}}%
			{\pgfpoint{-0.19\pgfarrowlength}{0.07\pgfarrowlength}}%
			{\pgfpoint{-0.100\pgfarrowlength}{0.000\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.19\pgfarrowlength}{-0.07\pgfarrowlength}}%
			{\pgfpoint{-0.50\pgfarrowlength}{-0.43\pgfarrowlength}}%
			{\pgfpoint{-0.618\pgfarrowlength}{-0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.59\pgfarrowlength}{-0.73\pgfarrowlength}}%
			{\pgfpoint{-0.49\pgfarrowlength}{-0.73\pgfarrowlength}}%
			{\pgfpoint{-0.470\pgfarrowlength}{-0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.13\pgfarrowlength}{-0.33\pgfarrowlength}}%
			{\pgfpoint{0.18\pgfarrowlength}{-0.11\pgfarrowlength}}%
			{\pgfpoint{0.370\pgfarrowlength}{-0.046\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{0.39\pgfarrowlength}{-0.03\pgfarrowlength}}%
			{\pgfpoint{0.39\pgfarrowlength}{0.03\pgfarrowlength}}%
			{\pgfpoint{0.370\pgfarrowlength}{0.046\pgfarrowlength}}
		\pgfpathclose
		\pgfusepathqfill
	},
	defaults = { length = 2.605pt }
}

% for implications
\pgfdeclarearrow{%
	name = libertinusimp,
	parameters = { \the\pgfarrowlength },
	setup code = {%
		% The different end values
		\pgfarrowssettipend{0.382\pgfarrowlength}
		\pgfarrowssetlineend{-0.2\pgfarrowlength}
		\pgfarrowssetvisualbackend{-0.134\pgfarrowlength}
		\pgfarrowssetbackend{-0.618\pgfarrowlength}
		% The convex hull
		\pgfarrowshullpoint{0.382\pgfarrowlength}{0.037\pgfarrowlength}
		\pgfarrowshullpoint{-0.493\pgfarrowlength}{0.726\pgfarrowlength}
		\pgfarrowshullpoint{-0.618\pgfarrowlength}{0.726\pgfarrowlength}
		\pgfarrowshullpoint{-0.618\pgfarrowlength}{-0.726\pgfarrowlength}
		\pgfarrowshullpoint{-0.493\pgfarrowlength}{-0.726\pgfarrowlength}
		\pgfarrowshullpoint{0.382\pgfarrowlength}{0.037\pgfarrowlength}
		% Saves: Only the length:
		\pgfarrowssavethe\pgfarrowlength
	},
	% the following coordinates are choosen so that the
	% arrow head has a length parallel to the x-axis
	% of precisely 1pt
	drawing code = {%
		\pgfpathmoveto%
			{\pgfpoint{0.370\pgfarrowlength}{0.046\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{0.18\pgfarrowlength}{0.11\pgfarrowlength}}%
			{\pgfpoint{-0.13\pgfarrowlength}{0.33\pgfarrowlength}}%
			{\pgfpoint{-0.470\pgfarrowlength}{0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.49\pgfarrowlength}{0.73\pgfarrowlength}}%
			{\pgfpoint{-0.59\pgfarrowlength}{0.73\pgfarrowlength}}%
			{\pgfpoint{-0.618\pgfarrowlength}{0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.50\pgfarrowlength}{0.43\pgfarrowlength}}%
			{\pgfpoint{-0.19\pgfarrowlength}{0.07\pgfarrowlength}}%
			{\pgfpoint{-0.100\pgfarrowlength}{0.000\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.19\pgfarrowlength}{-0.07\pgfarrowlength}}%
			{\pgfpoint{-0.50\pgfarrowlength}{-0.43\pgfarrowlength}}%
			{\pgfpoint{-0.618\pgfarrowlength}{-0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.59\pgfarrowlength}{-0.73\pgfarrowlength}}%
			{\pgfpoint{-0.49\pgfarrowlength}{-0.73\pgfarrowlength}}%
			{\pgfpoint{-0.470\pgfarrowlength}{-0.708\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{-0.13\pgfarrowlength}{-0.33\pgfarrowlength}}%
			{\pgfpoint{0.18\pgfarrowlength}{-0.11\pgfarrowlength}}%
			{\pgfpoint{0.370\pgfarrowlength}{-0.046\pgfarrowlength}}
		\pgfpathcurveto%
			{\pgfpoint{0.39\pgfarrowlength}{-0.03\pgfarrowlength}}%
			{\pgfpoint{0.39\pgfarrowlength}{0.03\pgfarrowlength}}%
			{\pgfpoint{0.370\pgfarrowlength}{0.046\pgfarrowlength}}
		\pgfpathclose
		\pgfusepathqfill
	},
	defaults = { length = 2.605pt }
}

\tikzcdset{
	arrow style = tikz,
	arrows = {line width  = 0.8 * rule_thickness}
}

\tikzset{  
	> = {libertinustip},
	MyRightarrow/.style = {double distance = 0.95pt, -libertinusimp}
}
