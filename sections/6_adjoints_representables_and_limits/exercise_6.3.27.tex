\subsection{}

We denote the presheaf category~$[\scat{A}^{\op}, \Set]$ by~$\hat{\scat{A}}$.

To give an explicit description of subobjects in $\hat{\scat{A}}$ we introduce the notion of a subfunctor:
a subfunctor is to a functor what a subset is to a set.
Just as subobjects in~$\Set$ correspond to subsets, we will show that subobjects in~$\hat{\scat{A}}$ correspond to subfunctors.

\subsubsection*{Definition of subfunctors}

Let~$\cat{A}$ be a category and let~$H$ be a functor from~$\cat{A}$ to~$\Set$.
We say that another functor~$S$ from~$\cat{A}$ to~$\Set$ is a \defemph{subfunctor} of~$H$ if it satisfies the following two conditions.
\begin{enumerate*}
	\item
		$S(A)$ is a subset of~$H(A)$ for every object~$A$ of~$\cat{A}$.
	\item
		$S(f)$ is the restriction of~$H(f)$ for every morphism~$f$ in~$\cat{A}$.
\end{enumerate*}
In other words, a subfunctor~$S$ of~$H$ consists of a subset~$S(A)$ of~$H(A)$ for every object~$A$ of~$\cat{A}$, such that~$H(f)( S(A) ) ‚äÜ S(B)$ for every morphism~$f \colon A \to B$ in~$\cat{A}$.

We write~$S ‚äÜ H$ if~$S$ is a subfunctor of~$H$.
The relation $‚äÜ$ is a partial order on the class of functors from $\cat{A}$ to $\Set$.
We denote the class of subfunctors of~$H$ by~$\Power(H)$.
Given two subfunctors~$S$ and~$T$ of~$H$, we have~$S ‚äÜ T$ if and only if~$S(A) ‚äÜ T(A)$ for every object~$A$ of~$\cat{A}$.

\subsubsection*{The image of a natural transformation}

Given another functor~$H'$ from~$\cat{A}$ to~$\Set$ and a natural transformation~$Œ±$ from~$H'$ to~$H$, we define a subfunctor~$\im(Œ±)$ of~$H$ with
\[
	\im(Œ±)(A) ‚âî \im(Œ±_A)
\]
for every object~$A$ of~$\cat{A}$.
This is indeed a subfunctor of~$H$ because
\begin{align*}
	H(f)\bigl( \im(Œ±)(A) \bigr)
	&=
	H(f)( \im(Œ±_A) ) \\
	&=
	H(f)( Œ±_A( F(A) ) ) \\
	&=
	Œ±_B\bigl( F(f)( F(A) ) \bigr) \\
	&‚äÜ
	Œ±_B( F(B) ) \\
	&=
	\im(Œ±_B) \\
	&=
	\im(Œ±)(B)
\end{align*}
for every morphism~$f \colon A \to B$ in~$\cat{A}$.
We refer to the subfunctor~$\im(Œ±)$ of~$H$ as the \defemph{image} of~$Œ±$.

\subsubsection*{Correspondence between subobjects and subfunctors}

Let us now restrict our attention to subobjects of~$H$.
We claim that the map
\begin{equation}
	\label{image map from monics to subfunctors}
	\Ob(\Monic(H)) \to \Power(H) \,,
	\quad
	(X, Œº) \mapsto \im(Œº) \,,
\end{equation}
descends to a well-defined bijection from~$\Sub(H)$ to~$\Power(H)$.
To prove this claim we need to check the following subclaims:
\begin{enumerate}

	\item
		Isomorphic objects of~$\Monic(H)$ have the same image.

	\item
		The map~\eqref{image map from monics to subfunctors} is surjective.

	\item
		If two objects of~$\Monic(H)$ have the same image, then they are already isomorphic in~$\Monic(A)$.

\end{enumerate}

To show the first subclaim, suppose that we have a commutative diagram of functors and natural transformations as follows:
\[
	\begin{tikzcd}[column sep = normal]
		{}
		&
		H
		&
		\\
		F
		\arrow[Rightarrow]{ur}[above left]{Œ±}
		\arrow[Rightarrow]{rr}
		&
		{}
		&
		G
		\arrow[Rightarrow]{ul}[above right]{Œ≤}
	\end{tikzcd}
\]
We then have~$\im(Œ±) ‚äÜ \im(Œ≤)$.
For two isomorphic objects~$(X, Œº)$ and~$(X, Œº')$ of~$\Monic(H)$ we thus have both~$\im(Œº) ‚äÜ \im(Œº')$ and~$\im(Œº') ‚äÜ \im(Œº)$, and therefore~$\im(Œº) = \im(Œº')$.

Now we show the second subclaim.
For every subfunctor~$S$ of~$H$ we have a natural transformation~$Œπ \colon S \To H$ whose component~$Œπ_A$ is given by the inclusion map from~$S(A)$ to~$H(A)$ for every object~$A$ of~$\cat{A}$.
Each component of~$Œπ$ is an injective map, whence~$Œπ$ is a monomorphism.
The object~$(S, Œπ)$ of~$\Monic(H)$ serves as a preimage of~$S$ for the map~\eqref{image map from monics to subfunctors}, whence this map is surjective.

To show the third subclaim, suppose that~$(X, Œº)$ and~$(X', Œº')$ are two objects of~$\Monic(H)$ with the same image in~$\Power(H)$, i.e., with~$\im(Œº) = \im(Œº')$.
We know from Exercise~6.2.20 that the components of~$Œº$ and~$Œº'$ are injective.
For every object~$A$ of~$\cat{A}$ we have thefore the two injective maps
\[
	Œº_A \colon X(A) \to H(A) \,,
	\quad
	Œº'_A \colon X'(A) \to H(A) \,.
\]
These two maps have the same image since
\[
	\im(Œº_A)
	=
	\im(Œº)(A)
	=
	\im(Œº')(A)
	=
	\im(Œº'_A) \,.
\]
As seen in the solution to Exercise~5.1.40, there exists a unique bijection~$Œ±_A$ from~$X(A)$ to~$X'(A)$ that makes the following diagram commute:
\[
	\begin{tikzcd}[column sep = small]
		X(A)
		\arrow{rr}[above]{Œ±_A}
		\arrow{dr}[below left]{Œº_A}
		&
		{}
		&
		X'(A)
		\arrow{dl}[below right]{Œº'_A}
		\\
		{}
		&
		H(A)
		&
		{}
	\end{tikzcd}
\]

We claim that the resulting transformation~$Œ±$ from~$X$ to~$X'$ is natural.
To show this, we need to check that for every morphism~$f \colon A \to B$ in~$\cat{A}$ the diagram
\[
	\begin{tikzcd}
		X(A)
		\arrow{r}[above]{Œ±_A}
		\arrow{d}[left]{X(f)}
		&
		X'(A)
		\arrow{d}[right]{X'(f)}
		\\
		X(B)
		\arrow{r}[above]{Œ±_B}
		&
		X'(B)
	\end{tikzcd}
\]
commutes.
To this end, we consider the following extended diagram:
\[
	\begin{tikzcd}
		X(A)
		\arrow{rr}[above]{Œ±_A}
		\arrow{dr}[below left]{Œº_A}
		\arrow{dd}[left]{X(f)}
		&
		{}
		&
		X'(A)
		\arrow{dl}[below right]{Œº'_A}
		\arrow{dd}[right]{X'(f)}
		\\
		{}
		&
		H(A)
		&
		{}
		\\
		X(B)
		\arrow{rr}[above, near start]{Œ±_B}
		\arrow{dr}[below left]{Œº_B}
		&
		{}
		&
		X'(B)
		\arrow{dl}[below right]{Œº'_B}
		\\
		{}
		&
		H(B)
		\arrow[crossing over, from=uu, right, near start, "H(f)"]
		&
		{}
	\end{tikzcd}
\]
The top and bottom of this diagram commute by definition of~$Œ±$, and the frontal two sides commute by the naturality of~$Œº$ and~$Œº'$.
It follows that
\begin{align*}
	Œº'_B ‚àò X'(f) ‚àò Œ±_A
	&=
	H(f) ‚àò Œº'_A ‚àò Œ±_A \\
	&=
	H(f) ‚àò Œº_A \\
	&=
	Œº_B ‚àò X(f) \\
	&=
	Œº'_B ‚àò Œ±_B ‚àò X(f) \,.
\end{align*}
The map~$Œº'_B$ is injective, so it follows that~$X'(f) ‚àò Œ±_A = Œ±_B ‚àò X(f)$, as desired.

We have thus constructed a natural isomorphism~$Œ±$ from~$X$ to~$X'$ that makes the diagram
\[
	\begin{tikzcd}[column sep = normal]
		X
		\arrow[Rightarrow]{rr}[above]{Œ±}
		\arrow[Rightarrow]{dr}[below left]{Œº}
		&
		{}
		&
		X'
		\arrow[Rightarrow]{dl}[below right]{Œº'}
		\\
		{}
		&
		H
		&
		{}
	\end{tikzcd}
\]
commute.
It follows from \cref{isomorphisms in mono categories} (page~\pageref{isomorphisms in mono categories}) that this natural isomorphism~$Œ±$ is an isomorphism in~$\Mon(H)$ from~$(X, Œº)$ to~$(X', Œº')$.
This shows the third subclaim.

We have thus constructed a bijection from~$\Sub(H)$ to~$\Power(H)$.
In this way, subobjects of~$H$ are the same as subfunctors of~$H$.

\subsubsection*{The category $\hat{\scat{A}}$ is well-powered}

We have for every functor~$H$ from~$\cat{A}$ to~$\Set$ an injective map from~$\Power(H)$ into the product~$‚àè_{A ‚àà \Ob(\cat{A})} H(A)$.
So if the category~$\cat{A}$ is small (or more generally if~$\Ob(\cat{A})$ is a set), then it follows that~$\Power(H)$ is a set, whence~$\Sub(H)$ is a set.
This tells us that the category~$\hat{\scat{A}}$ is well-powered.

\subsubsection*{Functoriality of the power set}

Let~$H$ and~$H'$ be two functors from~$\cat{A}$ to~$\Set$.
Suppose we have a subfunctor~$S'$ of~$H'$ and a natural transformation~$Œ±$ from~$H$ to~$H'$.
We can then consider for every object~$A$ of~$\cat{A}$ the subset~$S(A) ‚âî Œ±^{-1}( S'(A) )$ of~$H(A)$.
These sets form a subfunctor~$S$ of~$H$ since for every morphism~$f \colon A \to B$ in~$\cat{A}$ we have
\[
	Œ±_B\bigl( H(f)( S(A) ) \bigr)
	=
	H'(f)( Œ±_A( S(A) ) )
	‚äÜ
	H'(f)( S'(A) )
	‚äÜ
	S'(B) \,,
\]
and thus~$H(f)( S(A) ) ‚äÜ Œ±_B^{-1}( S'(B) ) = S(B)$.
We refer to the subfunctor~$S$ of~$H$ as the \defemph{preimage} of~$S'$ under~$Œ±$, and denote it by~$Œ±^{-1}(S')$.
We thus have
\[
	Œ±^{-1}(S')(A) = Œ±_A^{-1}( S'(A) )
\]
for every object~$A$ of~$\cat{A}$.
We get in this way a map
\[
	Œ±^{-1} \colon \Power(S') \to \Power(S) \,.
\]
This construction makes~$\Power$ functorial:
\begin{enumerate}

	\item
		Let~$S$ be a subfunctor of~$H$.
		We have the equalities
		\[
			(\id_H)^{-1}(S)(A) = \id_{H(A)}^{-1}( S(A) ) = S(A)
		\]
		for every object~$A$ of~$\cat{A}$, and therefore~$(\id_H)^{-1}(S) = S$.
		Consequently,~$(\id_H)^{-1}$ is the identity map on~$\Power(H)$.

	\item
		Let~$H''$ be yet another functor from~$\cat{A}$ to~$\Set$.
		Let~$S''$ be a subfunctor of~$H''$ and let
		\[
			Œ± \colon H \To H' \,,
			\quad
			Œ±' \colon H' \To H''
		\]
		be natural transformations.
		We have the chain of equalities
		\begin{align*}
			(Œ±' ‚àò Œ±)^{-1}(S'')(A)
			&=
			(Œ±' ‚àò Œ±)_A^{-1}( S''(A) ) \\
			&=
			(Œ±'_A ‚àò Œ±_A)^{-1}( S''(A) ) \\
			&=
			Œ±_A^{-1}\bigl( (Œ±'_A)^{-1}( S''(A) ) \bigr) \\
			&=
			Œ±_A^{-1}\bigl( (Œ±')^{-1}( S'' )(A) \bigr) \\
			&=
			Œ±_A^{-1}( (Œ±')^{-1}( S'' ) )(A)
		\end{align*}
		for every object~$A$ of~$\cat{A}$, and therefore the equality
		\[
			(Œ±' ‚àò Œ±)^{-1}(S'') = Œ±^{-1}( (Œ±')^{-1}(S'') ) \,.
		\]
		Consequently,~$(Œ±' ‚àò Œ±)^{-1} = Œ±^{-1} ‚àò (Œ±')^{-1}$.

\end{enumerate}
These properties tell us that we have constructed a contravariant functor
\[
	\Power \colon [\cat{A}, \Set] \to \Set
\]
if the category~$\cat{A}$ is small.

\subsubsection*{Naturality of the isomorphism $\Sub(H) ‚âÖ \Power(H)$}

We have previously constructed for every functor~$H$ from~$\cat{A}$ to~$\Set$ an isomorphism~$œÜ_H$ from~$\Power(H)$ to~$\Sub(H)$.
We will now show that the isomorphism~$œÜ_H$ is natural in $H$.
If the category~$\cat{A}$ is small, then this means that the two functors~$\Sub$ and~$\Power$ from~$\cat{A}$ to~$\Set$ are isomorphic.

We need to check that for every two functors~$H$ and~$H'$ from~$\cat{A}$ to~$\Set$ and every natural transformation~$Œ±$ from~$H$ to~$H'$ the following diagram commutes:
\[
	\begin{tikzcd}
		\Power(H')
		\arrow{r}[above]{œÜ_{H'}}
		\arrow{d}[left]{Œ±^{-1}}
		&
		\Sub(H')
		\arrow{d}[right]{\Sub(Œ±)}
		\\
		\Power(H)
		\arrow{r}[above]{œÜ_H}
		&
		\Sub(H)
	\end{tikzcd}
\]
Let~$S'$ be an element of the top-left corner of this diagram, i.e., a subfunctor of~$H'$.
We give descriptions of the two resulting elements of~$\Sub(H)$ and then show that these two elements are equal.

The subobject~$œÜ_{H'}(S')$ of~$H'$ (an element of the tow-right corner of the diagram) is represented by~$(S', Œπ')$ where~$Œπ'$ is the natural transformation from~$S'$ to~$H'$ that is the inclusion map in each component.
Let us denote the resulting element~$\Sub(Œ±)( [(S', Œπ')] )$ by $[(T, Œ∏)]$.
This is a subobject of~$H$, and it is uniquely determined by the fact that there exists a pullback diagram in~$[\cat{A}, \Set]$ of the following form:
\[
	\begin{tikzcd}
		T
		\arrow[Rightarrow]{r}
		\arrow[Rightarrow]{d}[left]{Œ∏}
		&
		S'
		\arrow[Rightarrow]{d}[right]{Œπ'}
		\\
		H
		\arrow[Rightarrow]{r}[above]{Œ±}
		&
		H'
	\end{tikzcd}
\]

The subfunctor~$S ‚âî Œ±^{-1}(S')$ of~$H$ (an element of the bottom-right corner of the diagram) is given by
\[
	S(A) = Œ±_A^{-1}( S'(A) )
\]
for every object~$A$ of~$\scat{A}$.
The subobject~$œÜ_H(S)$ of~$H$ (an element of the bottom-right corner of the diagram) is represented by~$(S, Œπ)$ where~$Œπ$ denotes the natural transformation from~$S$ to~$X$ that is the inclusion map in each component.

To show the desired equality~$[(S, Œπ)] = [(T, Œ∏)]$ we need to show that there exists a pullback diagram of the form
\[
	\begin{tikzcd}
		S
		\arrow[Rightarrow]{r}
		\arrow[Rightarrow]{d}[left]{Œπ}
		&
		S'
		\arrow[Rightarrow]{d}[right]{Œπ'}
		\\
		H
		\arrow[Rightarrow]{r}[above]{Œ±}
		&
		H'
	\end{tikzcd}
\]
in~$[\cat{A}, \Set]$.
We know that limits in functor categories can be computed pointwise.
It therefore suffices to show that there exists for every object~$A$ of~$\cat{A}$ a pullback diagram of the form
\[
	\begin{tikzcd}
		S(A)
		\arrow{r}
		\arrow{d}[left]{Œπ_A}
		&
		S'(A)
		\arrow{d}[right]{Œπ'_A}
		\\
		H(A)
		\arrow{r}[above]{Œ±_A}
		&
		H'_A
	\end{tikzcd}
\]
in~$\Set$.
This desired diagram simplifies as follows:
\[
	\begin{tikzcd}
		Œ±_A^{-1}(S'(A))
		\arrow{r}
		\arrow{d}[left]{Œπ_A}
		&
		S'(A)
		\arrow{d}[right]{Œπ'_A}
		\\
		H(A)
		\arrow{r}[above]{Œ±_A}
		&
		H'_A
	\end{tikzcd}
\]
We get this desired pullback diagram by choosing the upper horizontal arrow as the restriction of~$Œ±_A$, as seen in \cref{preimages as pullbacks} (page~\pageref{preimages as pullbacks}).

\subsubsection*{Special case: the category $\scat{A}$ has one object and is discrete}

To better understand the problem at hand, let us first consider the special case that the category~$\scat{A}$ is the one-object discrete category.
The presheaf category~$\hat{\scat{A}}$ is then just~$\Set$, and the functor~$\Power$ is just the usual contravariant power set functor.

Let~$ùüô = \{ 1 \}$ be a one-element set.
For every set~$X$, elements of~$X$ are the same as maps from~$ùüô$ to~$X$.
For the subobject classifier~$Œ©$ of~$\Set$ we have therefore the isomorphisms
\[
	Œ© ‚âÖ \Set(ùüô, Œ©) ‚âÖ \Power(ùüô) \,.
\]
We turn this observation into motivation to define~$Œ©$ as~$\Power(ùüô)$.

We observe that~$Œ© = \{ ‚àÖ, ùüô \}$, which agrees with the usual definition of the subobject classifier of~$\Set$.
But we won‚Äôt need this explicit description of~$Œ©$, and will deliberately avoid it.
Instead, our argumentation will rely on the following two properties of the set~$ùüô$ and its element~$1$.
\begin{enumerate*}

	\item
		For every set~$X$ and every element~$x$ of~$X$ there exists a unique map~$e_x$ from~$ùüô$ to~$X$ with~$e_x(1) = x$.

	\item
		The only subset of~$ùüô$ containing~$1$ is~$ùüô$.

\end{enumerate*}
In terms of intuition, the second property tells us that \enquote{the subset of~$ùüô$ generated by the element~$1$ is~$ùüô$}.

In the following, let~$X$ be some set.
We will describe how to abstractly construct the usual bijection between~$\Power(X)$ and~$\Set(X, Œ©)$, and how to show that this bijection is natural in~$X$.

Suppose first that~$S$ is a subset of~$X$.
For every element~$x$ of~$X$ we can pull back the subset~$S$ of~$X$ along the map~$e_x$ a subset of~$ùüô$.
We get in this way a map
\[
	œá_S \colon X \to Œ© \,,
	\quad
	x \mapsto e_x^{-1}(S) \,.
\]
(We observe that~$œá_S(x) = ùüô$ if~$x ‚àà S$ and~$œá_S(x) = ‚àÖ$ otherwise, so our abstract construction of the characteristic function~$œá_S$ agrees with the usual explicit definition.)

Suppose now that~$f$ is any map from~$X$ to~$Œ©$.
The set~$ùüô$ as a special subset, namely~$ùüô$ itself.
The set~$U ‚âî \{ ùüô \}$ is then a subset of~$Œ©$, which we can pull back along~$f$ to the subset~$f^{-1}(U)$ of~$X$.

We will now check that the above two constructions between subsets of~$X$ and maps from~$X$ to~$Œ©$ are mutually inverse, and also natural in~$X$.

Let~$S$ be a subset of~$X$.
We have for every element~$x$ of~$X$ the chain of equivalences
\begin{align}
	\SwapAboveDisplaySkip
	x ‚àà S
	&\iff
	e_x(1) ‚àà S \notag \\
	&\iff
	1 ‚àà e_x^{-1}(S) = œá_S(x) \notag \\
	&\iff
	ùüô = œá_S(x)
	\label{subset containg 1 is already everything} \\
	&\iff
	x ‚àà œá_S^{-1}(U) \notag \,,
\end{align}
and therefore the equality~$S = œá_S^{-1}(U)$.
For the step~\eqref{subset containg 1 is already everything} we used that $œá_S(x)$ is a subset of~$ùüô$ containing~$1$, and that the only such subset is~$ùüô$.

Let now~$f$ be a map from~$X$ to~$Œ©$ and let~$S ‚âî f^{-1}(U)$.
To show the equality~$f = œá_S$ we need to show that~$f(x) = œá_S(x)$ for every element~$x$ of~$X$.
Both~$f(x)$ and~$œá_S(x)$ are subsets of~$ùüô$, so we need to show that for every element~$p$ of~$ùüô$, we have~$p ‚àà f(x)$ if and only if~$p ‚àà œá_S(x)$.
The only element of~$ùüô$ is~$1$, and we have the chain of equivalences
\begin{align*}
	\SwapAboveDisplaySkip
	1 ‚àà f(x)
	&\iff
	f(x) = ùüô \\
	&\iff
	x ‚àà S \\
	&\iff
	œá_S(x) = ùüô \\
	&\iff
	1 ‚àà œá_S(x) \,.
\end{align*}
We have thus shown that indeed~$f = œá_S$.

To show the required naturality, we need to show that for every map
\[
	f \colon X \to Y
\]
the following diagram commutes:
\[
	\begin{tikzcd}
		\Power(Y)
		\arrow{r}[above]{œá_{(\ph)}}
		\arrow{d}[left]{f^{-1}}
		&
		\Set(Y, Œ©)
		\arrow{d}[right]{f^*}
		\\
		\Power(X)
		\arrow{r}[above]{œá_{(\ph)}}
		&
		\Set(X, Œ©)
	\end{tikzcd}
\]
Let~$S$ be a subset of~$Y$ and let~$x$ be an element of~$X$.
Then~$f ‚àò e_x = e_{f(x)}$ because
\[
	(f ‚àò e_x)(1) = f( e_x(1) ) = f(x) = e_{f(x)}(1) \,,
\]
and consequently
\begin{align*}
	\SwapAboveDisplaySkip
	f^*(œá_S)(x)
	&=
	(œá_S ‚àò f)(x) \\
	&=
	œá_S( f(x) ) \\
	&=
	e_{f(x)}^{-1}(S) \\
	&=
	(f ‚àò e_x)^{-1}(S) \\
	&=
	e_x^{-1}( f^{-1}(S) ) \\
	&=
	œá_{f^{-1}(S)}(x) \,.
\end{align*}
This shows that~$f^*(œá_S) = œá_{f^{-1}(S)}$, so that the diagram commutes.

\subsubsection*{Special case: the category $\scat{A}$ has one object}

Suppose now slightly more generally than before that the category~$\scat{A}$ consists of only a single object~$\ast$.
For the monoid~$M ‚âî \scat{A}(\ast, \ast)$, the presheaf category~$\hat{\scat{A}}$ is then isomorphic to the category~$\cat{M}$ of right~\sets{$M$}.
For every right~\set{$M$}~$X$ the set~$\Power(X)$ consists of all~\subsets{$M$} of~$X$, and for every homomorphism of right~\sets{$M$}~$f \colon X \to Y$ the induced map~$f^{-1} \colon \Power(Y) \to \Power(X)$ is given by taking preimages in the usual sense.

For every right~\set{$M$}~$X$, the elements of~$X$ correspond to homomorphisms from~$M$ to~$X$.
For the subobject classifier~$Œ©$ of~$\cat{M}$ we have therefore the isomorphisms
\[
	\{ \text{elements of~$Œ©$} \}
	‚âÖ
	\cat{M}(M, Œ©)
	‚âÖ
	\Power(M) \,.
\]
We therefore define~$Œ©$ as follows:
\begin{itemize*}

	\item
		The underlying set of~$Œ©$ is~$\Power(M)$.

	\item
		For every element~$m$ of~$M$, left multiplication with~$m$ is a homomorphism~$Œª_m \colon M \to M$, and therefore induces a map~$Œª_m^{-1} \colon \Power(M) \to \Power(M)$.
		This map is the action of~$m$ on~$Œ©$.
		More explicitly, we have
		\begin{equation}
			\label{action of monoids on its right ideals}
			S m
			=
			Œª_m^{-1}(S)
			=
			\{ n ‚àà M \suchthat Œª_m(n) ‚àà S \}
			=
			\{ n ‚àà N \suchthat m n ‚àà S \} \,.
		\end{equation}

\end{itemize*}
We denote the set~\eqref{action of monoids on its right ideals} as~$(S : m)$, in accordance to the notation for quotient ideals in ring theory.
We note that~$m$ is contained in~$S$ if and only if~$1_M$ is contained in~$(S : m)$.

More generally, if~$X$ is any right~\set{$M$},~$S$ is an~\subset{$M$} of~$X$, and~$x$ is an element of~$X$, then we will use the notation~$(S : x)$ for the set~$\{ m ‚àà M \suchthat xm \subseteq S \}$, so that
\[
	(S : x) ‚àã m \iff S ‚àã xm \,.
\]
We note that~$x$ is contained in~$S$ if and only if~$1_M$ is contained in~$(S : x)$, if and only if~$(S : x) = M$.

As in the previous special case, we will try not to work with the explicit elements of~$Œ©$.
Instead, we will rely on the following two observations:
\begin{enumerate*}

	\item
		There exists for every right~\set{$M$}~$X$ and every element~$x$ of~$X$ a unique homomorphism~$e_x$ from~$M$ to~$X$ with~$e_x(1_M) = x$.

	\item
		The only~\subset{$M$} of~$M$ that contains~$1_M$ is~$M$ itself.

\end{enumerate*}

Let~$X$ be a right~\set{$M$} and let~$S$ be an~\subset{$M$} of~$X$.
For every element~$x$ of~$X$ we can pull back~$S$ along the homomorphism~$e_x$ to an~\subset{$M$} of~$M$.
We have in this way a set-theoretic map
\[
	œá_S
	\colon
	X \to Œ© \,,
	\quad
	x \mapsto e_x^{-1}(S) \,.
\]
This map is more explicitly given by
\[
	œá_S(x)
	=
	e_x^{-1}(S)
	=
	\{ m ‚àà M \mid e_x(m) ‚àà S \}
	=
	\{ m ‚àà M \mid xm ‚àà S \}
	=
	(S : x)
\]
for every~$x ‚àà X$.
As a by-product of the construction of~$œá_S$, we see that~$(S : x)$ is an~\subset{$M$} of~$M$.

We claim that the map~$œá_S$ is already a homomorphism.
To see this, we observe that~$e_{xm} = e_x ‚àò Œª_m$, since both~$e_{xm}$ and~$e_x ‚àò Œª_m$ are homomorphisms and
\[
	e_{xm}(1_M)
	= xm
	= e_x(1_M) m
	= e_x(m)
	= e_x( Œª_m(1_M) )
	= (e_x ‚àò Œª_m)(1_M) \,.
\]
It follows that
\[
	œá_S(xm)
	=
	e_{xm}^{-1}(S)
	=
	(e_x ‚àò Œª_m)^{-1}(S)
	=
	Œª_m^{-1}( e_x^{-1}(S) )
	=
	œá_S(x) m \,.
\]

Suppose conversely that~$f$ is any homomorphism from~$M$ to~$Œ©$.
We note that~$M$ contains a very special~\subset{$M$}, namely~$M$ itself.
Every element~$m$ of~$M$ is contained in~$M$ (surprise!), whence~$Mm = (M : m) = M$.
This tells us that~$M$ is a fixed point in~$Œ©$.
Equivalently,~$U ‚âî \{ M \}$ is an~\subset{$M$} of~$Œ©$.
By pulling back~$U$ along~$f$, we arrive at the~\subset{$M$}~$f^{-1}(U)$ of~$X$.

We will now show that the above two constructions between~\subsets{$M$} of~$X$ and homomorphism from~$X$ to~$Œ©$ are mutually inverse and natural.

Let~$S$ be an~\subset{$M$} of~$X$.
We have for every element~$x$ of~$X$ the chain of equivalences
\begin{align}
	\SwapAboveDisplaySkip
	x ‚àà S
	&\iff
	e_x(1_M) ‚àà S \notag \\
	&\iff
	1_M ‚àà e_x^{-1}(S) = œá_S(x) \notag \\
	&\iff
	œá_S(x) = M
	\label{subset containg identity is already everything} \\
	&\iff
	x ‚àà œá_S^{-1}(U) \notag
\end{align}
and therefore the equality~$S = œá_S^{-1}(U)$.
We have used in the step~\eqref{subset containg identity is already everything} that~$œá_S(x)$ is an~\subset{$M$} of~$X$ containing~$1_M$, and that the only such~subset is~$M$ itself.

Let~$f$ be a homomorphism from~$X$ to~$Œ©$.
For the~\subset{$M$}~$S ‚âî f^{-1}(U)$ of~$X$ we want to show that~$f = œá_S$.
We need to show that~$f(x) = œá_S(x)$ for every element~$x$ of~$X$.
Both~$f(x)$ and~$œá_S(x)$ are~\subsets{$M$} of~$M$, so we need to show that for every element~$m$ of~$M$ we have~$m ‚àà f(x)$ if and only if~$m ‚àà œá_S(x)$.
We have
\[
	(f(x) : m) = f(x)m = f(xm) \,,
\]
and therefore the chain of equivalences
\begin{align*}
	m ‚àà f(x)
	&\iff
	1_M ‚àà (f(x) : m) \\
	&\iff
	1_M ‚àà f(xm) \\
	&\iff
	f(xm) = M \\
	&\iff
	xm ‚àà S \\
	&\iff
	m ‚àà (S : x) \\
	&\iff
	m ‚àà œá_S(x) \,.
\end{align*}
This shows that indeed~$f = œá_S$.

It remains to show the naturality of the bijections~$œá_{(\ph)} \colon \Power(X) \to \cat{M}(X, Œ©)$.
For this, we need to show that for every homomorphism
\[
	f \colon X \to Y
\]
the following diagram commutes:
\[
	\begin{tikzcd}
		\Power(Y)
		\arrow{r}[above]{œá_{(-)}}
		\arrow{d}[left]{f^{-1}}
		&
		\cat{M}(Y, Œ©)
		\arrow{d}[right]{f^*}
		\\
		\Power(X)
		\arrow{r}[above]{œá_{(-)}}
		&
		\cat{M}(X, Œ©)
	\end{tikzcd}
\]
Let~$S$ be an~\subset{$M$} of~$Y$ and let~$x$ be an element of~$X$.
Then~$f ‚àò e_x = e_{f(x)}$ because
\[
	(f ‚àò e_x)(1_M)
	=
	f( e_x(1_M) )
	=
	f(x)
	=
	e_{f(x)}(1_M) \,,
\]
and consequently
\begin{align*}
	\SwapAboveDisplaySkip
	f^*(œá_S)(x)
	&=
	(œá_S ‚àò f)(x) \\
	&=
	œá_S(f(x)) \\
	&=
	e_{f(x)}^{-1}(S) \\
	&=
	(f ‚àò e_x)^{-1}(S) \\
	&=
	e_x^{-1}( f^{-1}(S) ) \\
	&=
	œá_{f^{-1}(S)}(x) \,.
\end{align*}
This shows that~$f^*(œá_S) = œá_{f^{-1}(S)}$, which shows the required commutativity.



\subsubsection{}

Suppose that~$Œ©$ is a subobject classifier for~$\hat{\scat{A}}$.
For every object~$A$ of~$\scat{A}$ we then have the isomorphisms
\[
	Œ©(A)
	‚âÖ
	\hat{\scat{A}}( \HY_A, Œ© )
	‚âÖ
	\Sub(\HY_A)
	‚âÖ
	\Power(\HY_A) \,.
\]



\subsubsection{}


We define the desired subobject classifier~$Œ©$ of~$\hat{\scat{A}}$ as the composite of the Yoneda embedding from~$\scat{A}$ to~$\hat{\scat{A}}$ (which is covariant) and the contravariant power set functor from~$\hat{\scat{A}}$ to~$\Set$.
More explicitly, we have
\[
	Œ©(A) = \Power(\HY_A)
\]
for every object~$A$ of~$\scat{A}$,
and for every morphism~$f \colon B \to A$ in~$\scat{A}$ the map
\[
	Œ©(f)
	‚âî
	\HY_f^{-1}
	\colon
	\Power(\HY_A) \to \Power(\HY_B) \,,
	\quad
	S \mapsto \HY_f^{-1}(S) \,.
\]
More explicitly, we have
\begin{align}
	Œ©(f)(S)(C)
	&=
	\HY_f^{-1}(S)(C) \notag \\
	&=
	(\HY_f)_C^{-1}( S(C) ) \notag \\
	&=
	(f_*)^{-1}( S(C) ) \notag \\
	&=
	\{ \textstyle g \colon C \to B \suchthat f_*(g) ‚àà S(C)  \} \notag \\
	&=
	\{ \textstyle g \colon C \to B \suchthat f ‚àò g ‚àà S(C)  \}
	\label{explicit formula for action of Omega on morphisms} \,.
\end{align}

We will show in the following that the presheaf~$Œ©$ is a subobject classifier for~$\hat{\scat{A}}$, i.e., that~$\hat{\scat{A}}(\ph, Œ©) ‚âÖ \Sub$.
We have already seen that~$\Sub ‚âÖ \Power$, so we will show in the following that~$\Power ‚âÖ \hat{\scat{A}}(\ph, Œ©)$.
We will use the following two properties of the presheaves~$\HY_A$.
\begin{enumerate*}

	\item
	For every object~$A$ of~$\scat{A}$ and every element~$x$ of~$X(A)$ there exists a unique natural transformation~$Œµ_x$ from~$\HY_A$ to~$X$ with~$Œµ_{x, A}(\id_A) = x$.

	\item
		For every object~$A$ of~$\scat{A}$, the only subfunctor of~$\HY_A$ containing~$\id_A$ is~$\HY_A$ itself.

\end{enumerate*}

Let~$X$ be a presheaf on~$\scat{A}$ and let~$S$ be a subfunctor of~$X$.
Let~$A$ be an object of~$\scat{A}$ and let~$x$ be an element of~$X(A)$.
We can use the natural transformation~$Œµ_x$ to pull back the subfunctor~$S$ of~$X$ to the subfunctor~$Œµ_x^{-1}(S)$ of~$\HY_A$.
We get in this way a set-theoretic map
\[
	œá_{S, A}
	\colon
	X(A) \to \Power(\HY_A) = Œ©(A) \,,
	\quad
	x \mapsto Œµ_x^{-1}(S) \,.
\]
More explicitly, we have
\begin{align*}
	œá_{S, A}(B)
	&=
	Œµ_x^{-1}(S)(B) \\
	&=
	Œµ_{x, B}^{-1}( S(B) ) \\
	&=
	\{ g ‚àà \HY_A(B) \mid Œµ_{x, B}(g) ‚àà S(B) \} \\
	&=
	\{ \textstyle g \colon B \to A \mid X(g)(x) ‚àà S(B) \} \,.
\end{align*}

The resulting transformation~$œá_S$ from~$X$ to~$Œ©$ is natural.
To see this, we need to check that for every morphism
\[
	f \colon B \to A
\]
in~$\scat{A}$ the following diagram commutes:
\[
	\begin{tikzcd}
		X(A)
		\arrow{r}[above]{œá_{S, A}}
		\arrow{d}[left]{X(f)}
		&
		Œ©(A)
		\arrow{d}[right]{Œ©(f)}
		\\
		X(B)
		\arrow{r}[above]{œá_{S, B}}
		&
		Œ©(B)
	\end{tikzcd}
\]
We observe for every element~$x$ of~$X(A)$ that
\[
	Œµ_{X(f)(x)} = Œµ_x ‚àò \HY_f
\]
since both sides are functors from~$\HY_B$ to~$X$ with
\begin{align*}
	Œµ_{X(f)(x), B}(\id_B)
	&=
	X(f)(x) \\
	&=
	X(f)( Œµ_{x, A}(\id_A) ) \\
	&=
	Œµ_{x, B}\bigl( (\HY_A)(f)(\id_A) \bigr) \\
	&=
	Œµ_{x, B}( f ) \\
	&=
	Œµ_{x, B}\bigl( (\HY_f)_B( \id_B ) \bigr) \\
	&=
	\bigl( Œµ_{x, B} ‚àò (\HY_f)_B \bigr)( \id_B ) \\
	&=
	(Œµ_{x, B} ‚àò \HY_f)_B(\id_B) \,.
\end{align*}
It follows for every element~$x$ of~$X(A)$ that
\begin{align*}
	œá_{S, B}( X(f)(x) )
	&=
	Œµ_{X(f)(x)}^{-1}(S) \\
	&=
	(Œµ_x ‚àò \HY_f)^{-1}(S) \\
	&=
	\HY_f^{-1}( Œµ_x^{-1}(S) ) \\
	&=
	Œ©(f)( œá_S(x) ) \,.
\end{align*}
This shows the required commutativity.

Suppose now that~$Œ±$ is a natural transformation from~$X$ to~$Œ©$.
The functor~$\HY_A$ has itself as a subfunctor, and for every morphism~$f \colon B \to A$ in~$\scat{A}$ we have~$\HY_f^{-1}( \HY_A ) = \HY_B$ because
\begin{align*}
	\HY_f^{-1}( \HY_A )(C)
	&=
	(\HY_f)_C^{-1}( \HY_A(C) ) \\
	&=
	\{ g \in \HY_B(C) \mid (\HY_f)_B(g) ‚àà \HY_A(C) \} \\
	&=
	\{ g \in \scat{A}(C, B) \mid f ‚àò g ‚àà \scat{A}(C, A) \} \\
	&=
	\scat{A}(C, B) \\
	&=
	\HY_B(C)
\end{align*}
for every object~$C$ of~$\scat{A}$.
This tells us that the presheaf~$Œ©$ has a subfunctor~$U$ given by~$U(A) = \{ \HY_A \}$ for every object~$A$ of~$\scat{A}$.
We can pull back the subfunctor~$U$ of~$Œ©$ along the natural transformation~$Œ±$ to the subfunctor~$Œ±^{-1}(U)$ of~$X$.

We will now check that these two constructions between subfunctors of~$X$ and natural transformations from~$X$ to~$Œ©$ are mutually inverse, as well as natural.

Let~$S$ be a subfunctor of~$X$.
We observe for every object~$A$ of~$\scat{A}$ and every element~$x$ of~$X(A)$ the chain of equivalences
\begin{align}
	{}&
	x ‚àà S(A) \notag \\
	\iff{}&
	Œµ_{x, A}(\id_A) ‚àà S(A) \notag \\
	\iff{}&
	\id_A ‚àà Œµ_{x, A}^{-1}(S(A)) = Œµ_x^{-1}(S)(A) = œá_{S, A}(x)(A) \notag \\
	\iff{}&
	œá_{S, A}(x) = \HY_A \label{subfunctor containing identity} \\
	\iff{}&
	x ‚àà œá_{S, A}^{-1}( \{ \HY_A \} ) = œá_{S, A}^{-1}( U(A) ) = œá_S^{-1}(U)(A) \notag \,.
\end{align}
For the equivalence~\eqref{subfunctor containing identity} we use that~$œá_{S, A}(x)$ is a subfunctor of~$\HY_A$ containing~$\id_A$, and must therefore be all of~$\HY_A$.
This shows that~$S(A) = œá_S^{-1}(U)(A)$ for every object~$A$ of~$\scat{A}$, and therefore~$S = œá_S^{-1}(U)$.

Let now~$Œ±$ be a natural transformation from~$X$ to~$Œ©$ and let~$S = Œ±^{-1}(U)$.
We want to check that~$Œ± = œá_S$.
For this, we need to show that for every object~$A$ of~$\scat{A}$ and every element~$x$ of~$X(A)$ we have~$Œ±_A(x) = œá_{S, A}(x)$.
Both~$Œ±_A(x)$ and~$œá_{S, A}(x)$ are elements of~$Œ©(A) = \Power(\HY_A)$, and therefore subfunctors of~$\HY_A$.
We hence need to show that~$Œ±_A(x)(B) = œá_{S, A}(x)(B)$ for every object~$B$ of~$\scat{A}$.
We have for every element~$f$ of~$\HY_A(B) = \scat{A}(B, A)$ the chain of equalities
\begin{align}
	{}&
	f ‚àà Œ±_A(x)(B) \notag \\
	\iff{}&
	\id_B ‚àà Œ©(f)( Œ±_A(x) )(B)
	\label{use definition of Omega} \\
	\iff{}&
	Œ©(f)( Œ±_A(x) ) = \HY_B
	\label{subfunctor that contains the identity} \\
	\iff{}&
	Œ±_B( X(f)(x) ) = \HY_B
	\label{using naturality of alpha} \\
	\iff{}&
	X(f)(x) ‚àà Œ±_B^{-1}(\{\HY_B\}) = Œ±_B^{-1}(U(B)) = Œ±^{-1}(U)(B) = S(B) \notag
	\\
	\iff{}&
	Œµ_{x, B}(f) ‚àà S(B)
	\label{reinserting epsilon}
	\\
	\iff{}&
	f ‚àà Œµ_{x, B}^{-1}(S(B)) = Œµ_x^{-1}(S)(B) = œá_S(x)(B) \notag \,,
\end{align}and thus~$Œ±_A(x)(B) = œá_S(x)(B)$.
For~\eqref{use definition of Omega} we use the formula~\eqref{explicit formula for action of Omega on morphisms}.
The equality~\eqref{subfunctor containing identity} holds because~$Œ©(f)( Œ±_A(x) )$ is a subfunctor of~$\HY_B$ that contains~$\id_B$, and the only such subfunctor is~$\HY_B$ itself.
For~\eqref{using naturality of alpha} we use the naturality of~$Œ±$, and for~\eqref{reinserting epsilon} we use that~$X(f)(x)$ is precisely~$Œµ_{x, B}(f)$.

To show the required naturality we need to check that for every natural transformation
\[
	Œ± \colon X \to Y
\]
between presheaves on~$\scat{A}$ the following diagram commutes:
\[
	\begin{tikzcd}
		\Power(Y)
		\arrow{r}[above]{œá_{(\ph)}}
		\arrow{d}[left]{Œ±^{-1}}
		&
		\hat{\scat{A}}(Y, Œ©)
		\arrow{d}[right]{Œ±^*}
		\\
		\Power(X)
		\arrow{r}[above]{œá_{(\ph)}}
		&
		\hat{\scat{A}}(X, Œ©)
	\end{tikzcd}
\]
Let~$S$ be a subfunctor of~$Y$, let~$A$ be an object of~$\scat{A}$ and let~$x ‚àà X(A)$, then
\begin{align*}
	Œ±^*( œá_S )_A(x)
	&=
	(œá_S ‚àò Œ±)_A(x) \\
	&=
	(œá_{S, A} ‚àò Œ±_A)(x) \\
	&=
	œá_{S, A}( Œ±_A(x) ) \\
	&=
	Œµ_{Œ±_A(x)} ^{-1}(S) \\
	&=
	( Œ± ‚àò Œµ_x )^{-1}(S) \\
	&=
	Œµ_x^{-1}( Œ±^{-1}(S) ) \\
	&=
	œá_{Œ±^{-1}(S), A}(x) \,,
\end{align*}
therefore~$Œ±^*(œá_S)_A = œá_{Œ±^{-1}(S), A}$, and thus~$Œ±^*( œá_S ) = œá_{Œ±^{-1}(S)}$.
This shows the required commutativity.



\subsubsection{}

We know from Corollary~6.2.11 that~$\hat{\scat{A}}$ has all small limits.
This entails that~$\hat{\scat{A}}$ has finite limits.
We have seen in Theorem~6.3.20 that~$\hat{\scat{A}}$ is cartesian closed.
We have seen in this exercise that~$\hat{\scat{A}}$ is well-powered and has a subobject classifier.

This shows altogether that~$\hat{\scat{A}}$ is a topos.
